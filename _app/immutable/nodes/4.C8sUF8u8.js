import{D as P,E as R,z as k,q as B,t as J,s as H,e as C,f as W,c as Q,j as U,d as V,k as O,u as L,l as z,m as S,n as I}from"../chunks/scheduler.BFffGjdO.js";import{y as X,k as h,w as Y,t as g,S as K,i as M,m as p,n as w,o as j,p as y,s as Z,b as x,h as ee,d as te}from"../chunks/index.BoVGCHAO.js";import{d as re,e as v,w as T,c as se,T as N,g as ne,a as ce,f as ae,C as le}from"../chunks/fragment.CO0fG8oa.js";import{aj as oe,W as ue}from"../chunks/three.module.CvVa4e-M.js";import{w as E,d as fe}from"../chunks/index.B6SBoC_g.js";import{G as me}from"../chunks/GLTFLoader.ChyF0Veo.js";function ie(r,e){const c=e.token={};function t(s,n,l,u){if(e.token!==c)return;e.resolved=u;let o=e.ctx;l!==void 0&&(o=o.slice(),o[l]=u);const a=s&&(e.current=s)(o);let m=!1;e.block&&(e.blocks?e.blocks.forEach((i,_)=>{_!==n&&i&&(X(),h(i,1,1,()=>{e.blocks[_]===i&&(e.blocks[_]=null)}),Y())}):e.block.d(1),a.c(),g(a,1),a.m(e.mount(),e.anchor),m=!0),e.block=a,e.blocks&&(e.blocks[n]=a),m&&B()}if(P(r)){const s=R();if(r.then(n=>{k(s),t(e.then,1,e.value,n),k(null)},n=>{if(k(s),t(e.catch,2,e.error,n),k(null),!e.hasCatch)throw n}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function _e(r,e,c){const t=e.slice(),{resolved:s}=r;r.current===r.then&&(t[r.value]=s),r.current===r.catch&&(t[r.error]=s),r.block.p(t,c)}const A=r=>{const e=E(void 0),c=E(void 0);return r.then(t=>{e.set(t)}).catch(t=>{console.error("Error in asyncWritable:",t.message),c.set(t)}),Object.assign(Object.assign(r,e),{error:c,promise:r})};function de(r,e){const{remember:c,clear:t}=re();let s;const n=()=>{var a;const o=new r(...(e==null?void 0:e.args)??[]);return(a=e==null?void 0:e.extend)==null||a.call(e,o),o};return{load:(o,a)=>{const m=async i=>{var _;if(s||(s=n()),"loadAsync"in s){const f=await s.loadAsync(i,a==null?void 0:a.onProgress);return((_=a==null?void 0:a.transform)==null?void 0:_.call(a,f))??f}else return new Promise((f,d)=>{s.load(i,b=>{var $;return f((($=a==null?void 0:a.transform)==null?void 0:$.call(a,b))??b)},b=>{var $;return($=a==null?void 0:a.onProgress)==null?void 0:$.call(a,b)},d)})};if(Array.isArray(o)){const i=o.map(f=>c(()=>m(f),[r,f]));return A(Promise.all(i))}else if(typeof o=="string"){const i=c(()=>m(o),[r,o]);return A(i)}else{const i=Object.values(o).map(f=>c(()=>m(f),[r,f]));return A(Promise.all(i).then(f=>Object.fromEntries(Object.entries(o).map(([d],b)=>[d,f[b]]))))}},clear:o=>{Array.isArray(o)?o.forEach(a=>{t([r,a])}):typeof o=="string"?t([r,o]):Object.entries(o).forEach(([a,m])=>{t([r,a,m])})},loader:s}}const q=r=>!!(r!=null&&r.isObject3D),he=r=>!!(r!=null&&r.subscribe)&&typeof r.subscribe=="function";function ge(r,e){const c=he(r)?r:E(void 0),t=v(q(r)?r:q(e)?e:void 0),s=fe([t,c],([a,m])=>a??(m==null?void 0:m.scene)),n=v({}),l=new oe(void 0);T([c,s],async([a,m])=>{if(!a||!a.animations.length||!m)return;await J();const i=a.animations.reduce((_,f)=>{const d=l.clipAction(f,m);return{..._,[f.name]:d}},{});return n.set(i),()=>{Object.values(i).forEach(_=>{const f=_;f.stop(),l.uncacheClip(f.getClip())})}});const{start:u,stop:o}=se(a=>{l.update(a)},{autoStart:!1});return T(n,a=>{Object.keys(a).length?u():o()}),{gltf:c,root:t,mixer:l,actions:n}}const be=r=>({}),D=r=>({ref:r[0]}),$e=r=>({}),G=r=>({error:r[10]}),ke=r=>({}),F=r=>({});function pe(r){let e;const c=r[7].error,t=O(c,r,r[9],G);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&512)&&L(t,c,s,s[9],e?S(c,s[9],n,$e):z(s[9]),G)},i(s){e||(g(t,s),e=!0)},o(s){h(t,s),e=!1},d(s){t&&t.d(s)}}}function we(r){let e,c;return e=new N({props:{is:r[4].scene}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){j(e,t,s),c=!0},p:I,i(t){c||(g(e.$$.fragment,t),c=!0)},o(t){h(e.$$.fragment,t),c=!1},d(t){y(e,t)}}}function je(r){let e;const c=r[7].fallback,t=O(c,r,r[9],F);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&512)&&L(t,c,s,s[9],e?S(c,s[9],n,ke):z(s[9]),F)},i(s){e||(g(t,s),e=!0)},o(s){h(t,s),e=!1},d(s){t&&t.d(s)}}}function ye(r){let e,c,t={ctx:r,current:null,token:null,hasCatch:!0,pending:je,then:we,catch:pe,value:4,error:10,blocks:[,,,]};ie(r[4],t);const s=r[7].default,n=O(s,r,r[9],D);return{c(){t.block.c(),e=Z(),n&&n.c()},l(l){t.block.l(l),e=x(l),n&&n.l(l)},m(l,u){t.block.m(l,t.anchor=u),t.mount=()=>e.parentNode,t.anchor=e,ee(l,e,u),n&&n.m(l,u),c=!0},p(l,u){r=l,_e(t,r,u),n&&n.p&&(!c||u&512)&&L(n,s,r,r[9],c?S(s,r[9],u,be):z(r[9]),D)},i(l){c||(g(t.block),g(n,l),c=!0)},o(l){for(let u=0;u<3;u+=1){const o=t.blocks[u];h(o)}h(n,l),c=!1},d(l){l&&te(e),t.block.d(l),t.token=null,t=null,n&&n.d(l)}}}function Ae(r){let e,c;const t=[{is:r[0]},{dispose:!1},r[3]];let s={$$slots:{default:[ye]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=C(s,t[n]);return e=new N({props:s}),r[8](e),{c(){p(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,l){j(e,n,l),c=!0},p(n,[l]){const u=l&9?ne(t,[l&1&&{is:n[0]},t[1],l&8&&ce(n[3])]):{};l&512&&(u.$$scope={dirty:l,ctx:n}),e.$set(u)},i(n){c||(g(e.$$.fragment,n),c=!0)},o(n){h(e.$$.fragment,n),c=!1},d(n){r[8](null),y(e,n)}}}function Ce(r,e,c){const t=["ref","actions","mixer"];let s=W(e,t),n,{$$slots:l={},$$scope:u}=e;const o=new ue,a=de(me).load("/models/your-name/model.gltf"),{actions:m,mixer:i}=ge(a,o),_=ae();Q(r,_,d=>c(1,n=d));function f(d){V[d?"unshift":"push"](()=>{n=d,_.set(n)})}return r.$$set=d=>{e=C(C({},e),U(d)),c(3,s=W(e,t)),"$$scope"in d&&c(9,u=d.$$scope)},[o,n,_,s,a,m,i,l,f,u]}class Ee extends K{constructor(e){super(),M(this,e,Ce,Ae,H,{ref:0,actions:5,mixer:6})}get ref(){return this.$$.ctx[0]}get actions(){return this.$$.ctx[5]}get mixer(){return this.$$.ctx[6]}}function Oe(r){let e,c;return e=new Ee({props:{position:[0,0,0],scale:.05}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){j(e,t,s),c=!0},p:I,i(t){c||(g(e.$$.fragment,t),c=!0)},o(t){h(e.$$.fragment,t),c=!1},d(t){y(e,t)}}}function Le(r){let e,c;return e=new le({props:{size:{width:500,height:500},$$slots:{default:[Oe]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){j(e,t,s),c=!0},p(t,[s]){const n={};s&1&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){c||(g(e.$$.fragment,t),c=!0)},o(t){h(e.$$.fragment,t),c=!1},d(t){y(e,t)}}}class De extends K{constructor(e){super(),M(this,e,null,Le,H,{})}}export{De as component};
